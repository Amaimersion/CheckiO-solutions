It seems that Warrior, Knight, Defender and Vampire are not enough to win the battle. Let's add one more powerful unit type - Lancer.
Lancer should be the subclass of the Warrior and should attack with the specific way - when he hit the other unit, he also deal a 50% of the dealed damage to the enemy unit, who stands behind the first unit, which was attacked by the Lancer (enemy defense make dealed damage value lower - consider this).
The basic parameters of the Lancer:
health = 50
attack = 6

Input: warriors and armies.
Output: result of the battle (True or False).

Precondition: 5 types of the units